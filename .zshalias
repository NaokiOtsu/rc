### alias setting for zsh

## aliases for basic commands

alias v="vim"
alias g="gvim"

alias rr="rm -rf"
alias rm="rm -i"

alias dh="df -h"

alias pd="popd"
alias gd='dirs -v; echo -n "select number: "; read newdir; cd +"$newdir"'

alias tcz="tar cvzf"
alias txz="tar xvzf"
alias tcj="tar cvjf"
alias txj="tar xvjf"

case "${OSTYPE}" in
  freebsd*|darwin*)
  alias l="ls -G -w"
  alias ls="ls -G -w"
  ;;
  linux*)
  alias l="ls --color"
  alias ls="ls --color"
  ;;
esac

alias la="ls -lhAF"
alias ps="ps -fU`whoami` --forest"

alias fall="sudo find / -name"
alias fhere="find ./ -name"


## special aliases

# for source

alias zs="source ~/.zshrc"
alias zsl="source ~/.zshrc.local"
alias ze="source ~/.zshenv"
alias zel="source ~/.zshenv.local"
alias za="source ~/.zshalias"
alias zal="source ~/.zshalias.local"

# vcs aliases

alias sc="svn commit -m"
alias gc="git commit -a -m"
gp() { git push origin master }

# tmux features

new() { tmux new-window -a -n $1 }
cl() { tmux new-window -a -n $1; tmux send-keys -t:$1 "cd $1; clear" C-m }
sw() { tmux swap-window -s $1 -t $2 }

alias key="sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys"

alias cupmen3="sleep 180 && notify-send 'カップめんできたよ！'"
alias cupmen5="sleep 300 && notify-send 'カップめんできたよ！'"

alias awetest="Xephyr -ac -br -noreset -screen 800x600 :1 & sleep 1 && DISPLAY=:1.0 awesome -c ~/.config/awesome/rc.lua"

md(){ mkdir -p $1; cd $1 }

al(){ ack "$*" | less }

gsh(){ RLWRAP_EDITOR='vim -c "set filetype=scheme"' rlwrap -c -q '"' -b "'"'(){}[].,#@;|`"' -m vim gosh }


## perl aliases

sub() { perl -pi -e "s/$1/$2/g;" `find ./ -name "*.$3"` }
alias psh="perl -de 1"

alias testcover="cover -delete ; ./Build testcover; cover"
pmver(){ perl -M$1 -le "print $1->VERSION"; }
pmuse() { perl -MModule::ExtractUse -le 'my $p = Module::ExtractUse->new; my @used; while (my $module = shift @ARGV ) { $p->extract_use($module); push(@used, $p->array); } my %seen; @used = sort { $a cmp $b } grep { !$seen{$_}++ } @used; local $,="\n"; print @used' `find ./lib -name "*.pm"` }

http() { plackup -p $* -e 'use Plack::App::Directory; Plack::App::Directory->new( +{ root => "./" } )->to_app' }


## global aliases

alias -g ...='../..'
alias -g ....='../../..'
alias -g .....='../../../..'

alias -g W='| wc -l'

alias -g D="DISPLAY=:0.0"

alias -g ED="export DISPLAY=:0.0"

alias -g EG='|& egrep'
alias -g EH='|& head'
alias -g EL='|& less -R'
alias -g ELS='|& less -S -R'
alias -g ETL='|& tail -20'
alias -g ET='|& tail'
alias -g F=' | fmt -'
alias -g G='| egrep'

alias -g H='| head'
alias -g HL='|& head -20'

alias -g NZ="*~(*.bz2|*.gz|*.tgz|*.zip|*.z)"

alias -g L="| less -R"
alias -g LL="2>&1 | less -R"
alias -g LS='| less -S -R'

alias -g M='| more'
alias -g MM='| most'

alias -g N=/dev/null
alias -g NE="2> /dev/null"
alias -g NULL="> /dev/null 2>&1"

alias -g S='| sort'
alias -g NS='| sort -n'
alias -g US='| sort -u'
alias -g NRS='| sort -nr'

alias -g T='| tail'
alias -g TL='| tail -20'

alias -g VM=/var/log/messages

alias -g X='| xargs'
alias -g X0='| xargs -0'
alias -g XG='| xargs egrep'
alias -g X0G='| xargs -0 egrep'

alias -g FA='find -P . -regex "\./[^.].*"'

if which pbcopy >/dev/null 2>&1 ; then
  # Mac
  alias -g C='| pbcopy'
elif which xsel >/dev/null 2>&1 ; then
  # Linux
  alias -g C='| xsel --input --clipboard'
fi

# source local zshalias

if [ -e ~/.zshalias.local ]; then
  source ~/.zshalias.local
fi
