### alias setting for zsh

## aliases for basic commands

alias rr="rm -rf"
alias dh="df -h"
md(){ mkdir -p $1; cd $1 }

alias tcz="tar cvzf"
alias txz="tar xvzf"
alias tcj="tar cvjf"
alias txj="tar xvjf"

case "${OSTYPE}" in
  freebsd*|darwin*)
  alias l="ls -G -w"
  alias ls="ls -G -w"
  ;;
  linux*)
  alias l="ls --color"
  alias ls="ls --color"
  ;;
esac

alias la="ls -lhAF"
alias ps="ps -fU`whoami` --forest"

alias fall="sudo find / -name"
alias fhere="find ./ -name"


# for source

alias zs="source ~/.zshrc"
alias zsl="source ~/.zshrc.local"
alias ze="source ~/.zshenv"
alias zel="source ~/.zshenv.local"
alias za="source ~/.zshalias"
alias zal="source ~/.zshalias.local"


# vcs

alias sc="svn commit -m"
alias gm="git commit -a -m"
alias gg="git grep"
alias gp="git push origin master"


# tmux features

tn() { tmux new-session -s $1 }
ta() { tmux attach-session -t $1 }
tl() { tmux list-sessions }
cl() { tmux new-window -a -n $1; tmux send-keys -t:$1 "cd $1; clear" C-m }
sw() { tmux swap-window -s $1 -t $2 }


# for perl

sub() { perl -pi -e "s/$1/$2/g;" `find ./ -name "*.$3"` }

pm() { PERLDOC_PAGER=$EDITOR perldoc -m $* }

pmver(){ perl -M$1 -le "print $1->VERSION"; }

pmgrep() { [ -n "$1" ] && [ -n "$2" ] && grep -C3 -n "$1" `perldoc -l $2` | less -r; }

pmuse() { perl -MModule::ExtractUse -le 'my $p = Module::ExtractUse->new; my @used; while (my $module = shift @ARGV ) { $p->extract_use($module); push(@used, $p->array); } my %seen; @used = sort { $a cmp $b } grep { !$seen{$_}++ } @used; local $,="\n"; print @used' `find ./lib -name "*.pm"` }

http() { plackup -p $* -e 'use Plack::App::Directory; Plack::App::Directory->new( +{ root => "./" } )->to_app' }


# others

alias key="sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys"

alias cupmen3="sleep 180 && notify-send 'カップめんできたよ！'"
alias cupmen5="sleep 300 && notify-send 'カップめんできたよ！'"

alias awetest="Xephyr -ac -br -noreset -screen 800x600 :1 & sleep 1 && DISPLAY=:1.0 awesome -c ~/.config/awesome/rc.lua"


## global aliases

alias -g ...='../..'
alias -g ....='../../..'
alias -g .....='../../../..'

alias -g W='| wc -l'
alias -g G='| egrep'
alias -g H='| head'
alias -g L="| less -R"
alias -g X='| xargs'

alias -g N=/dev/null
alias -g NE="2> /dev/null"
alias -g NULL="> /dev/null 2>&1"

alias -g S='| sort'
alias -g SN='| sort -n'
alias -g SU='| sort -u'


if which pbcopy >/dev/null 2>&1 ; then
  # Mac
  alias -g C='| pbcopy'
elif which xsel >/dev/null 2>&1 ; then
  # Linux
  alias -g C='| xsel --input --clipboard'
fi

# source local zshalias

if [ -e ~/.zshalias.local ]; then
  source ~/.zshalias.local
fi
